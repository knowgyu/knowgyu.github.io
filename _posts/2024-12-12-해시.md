---
title: "해시 자료구조"
author: knowgyu
description: " "
date: 2024-07-05 14:54:15 +0900
math: true
categories: [Computer Science, 코딩테스트 합격자되기 C++편]
tags: [Algorithm, DataStructure]
---

# 해시 개념

해시는 데이터를 효율적으로 저장하고 탐색하기 위해 **해시 함수**를 사용해 데이터를 **키-값**으로 관리하는 자료구조입니다.  

---

## 해시의 기본 원리

데이터를 탐색할 때 **순차 탐색**의 경우 최악의 상황에서 모든 데이터를 살펴야 하기 때문에 비효율적입니다.  
하지만 **해시 함수**를 이용해 데이터가 저장될 위치(인덱스)를 미리 정하면 **O(1)**의 시간 복잡도로 데이터를 탐색할 수 있습니다.

**해시(Hash)**: 키를 해시 함수로 변환해 나온 **해시값(인덱스)**에 데이터를 저장하는 자료구조입니다.

---

## 해시의 특징

1. **단방향**으로 동작  
   - 키를 통해 값을 찾을 수 있지만, 그 반대는 불가능합니다.  
2. **탐색 속도 O(1)**  
   - 해시 함수로 키를 해시값으로 변환하기 때문에 탐색 과정이 필요 없습니다.  
3. **적절한 해시 함수가 중요**  
   - 키를 인덱스로 변환하는 과정에서 충돌이 최소화되어야 합니다.

---

## 해시 테이블과 버킷

- **해시 테이블**: 키와 값이 저장되는 데이터 공간입니다.  
- **버킷**: 해시 테이블 내의 각 데이터 저장 공간입니다.

---

## 해시의 활용 분야

해시는 **단방향 검색**과 **빠른 탐색**이 필요한 분야에 활용됩니다.  

- **비밀번호 관리**  
- **데이터베이스 인덱싱**  
- **블록체인**  

코딩 테스트에서도 **데이터 탐색**의 효율성이 중요한 경우 해시를 고려해야 합니다.

---

# 해시 함수

해시 함수는 **키를 특정 범위 내의 값(해시값)**으로 변환하는 역할을 합니다.

---

## 해시 함수를 구현할 때 고려할 내용

1. **해시값은 해시 테이블의 크기 내에서 결정되어야 합니다.**  
   예: `N`개의 데이터를 저장하려면 해시값은 `0 ~ N-1` 범위여야 합니다.  

2. **충돌(Collision)은 최소화해야 합니다.**  
   - **충돌**: 서로 다른 키가 같은 해시값을 가지는 경우를 의미합니다.  
   - 완벽한 해시 함수는 없지만, 충돌이 적게 발생하도록 설계해야 합니다.

---

## 자주 사용하는 해시 함수

### 1. 나눗셈법 (Division Method)

가장 단순하고 직관적인 방법입니다. 키를 소수로 나눈 나머지를 해시값으로 사용합니다.

**공식**:  
$$
h(x) = x \mod k
$$

- $$ x $$ : 키  
- $$ k $$ : 소수 (해시 테이블 크기)  

**소수를 사용하는 이유**:  
소수가 아닌 값을 사용하면 특정 키에 대해 충돌이 많이 발생할 수 있습니다.

---

### 2. 곱셈법 (Multiplication Method)

곱셈법은 큰 소수를 구해야 하는 나눗셈법의 단점을 보완합니다.

**공식**:  
$$
h(x) = \lfloor ((x \cdot A) \mod 1) \cdot m \rfloor
$$

- $$ m $$ : 해시 테이블 크기  
- $$ A $$ : 상수 (황금비 \( \approx 0.6180339887 \))  

---

### 3. 문자열 해싱

문자열을 해싱하기 위해 **문자를 숫자로 변환**한 뒤 다항식을 활용합니다.

**Polynomial Rolling Method**:  
$$
\text{hash}(s) = (s[0] + s[1] \cdot p + s[2] \cdot p^2 + \dots + s[n-1] \cdot p^{n-1}) \mod m
$$

- $$ p $$ : 31 (메르센 소수)  
- $$ m $$ : 해시 테이블 크기  

**오버플로우 방지**:  
덧셈 연산 중간에 모듈러 연산을 수행합니다.  
$$
(a + b) \% c = (a \% c + b \% c) \% c
$$

---

# 충돌 처리

서로 다른 키가 같은 해시값을 가지면 **충돌**이 발생합니다. 이를 해결하기 위해 **체이닝**과 **개방 주소법**을 사용합니다.

---

## 체이닝 (Chaining)

충돌이 발생하면 해당 버킷에 **링크드 리스트**를 사용해 데이터를 연결합니다.

---

## 개방 주소법 (Open Addressing)

충돌 시 **빈 버킷**을 찾아 데이터를 저장합니다.

### 선형 탐사 (Linear Probing)

충돌이 발생하면 **일정 간격**으로 이동하며 빈 버킷을 찾습니다. 보통 간격은 1입니다.

**공식**:  
$$
h(k, i) = (h(k) + i) \mod m
$$

---

### 이중 해싱 (Double Hashing)

충돌이 발생하면 **두 번째 해시 함수**를 사용해 이동 간격을 결정합니다.

**공식**:  
$$
h(k, i) = (h_1(k) + i \cdot h_2(k)) \mod m
$$

---

# 핵심 정리

1. **해시**는 키를 해시 함수로 변환해 데이터를 저장하고 빠르게 탐색하는 자료구조입니다.  
2. **충돌 처리**는 체이닝과 개방 주소법(선형 탐사, 이중 해싱)으로 해결합니다.  
3. 코딩 테스트에서는 **키와 값을 매핑**하는 과정이 해시 문제의 핵심입니다.

---
---
---
> 위 내용은 박경록 저자님의 "코딩 테스트 합격자 되기 (C++편)" 을 읽고 공부한 것을 정리한 글입니다.
{: .prompt-tip }
